{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from 'react';\nimport { useUserPermission } from '../Common/Hooks/useUserPermission';\nimport { Fragment as _Fragment, jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst findPerm = (permList, perm) => permList.find(userPerm => userPerm === perm);\nexport const hasPermission = (permission, userPermissions) => userPermissions.includes(permission);\nexport const hasAnyPermissions = (permissions, userPermissions) => (permissions === null || permissions === void 0 ? void 0 : permissions.some(permission => hasPermission(permission, userPermissions))) || false;\nexport const hasAllPermissions = (permissions, userPermissions) => {\n  return (permissions === null || permissions === void 0 ? void 0 : permissions.every(permission => hasPermission(permission, userPermissions))) || false;\n};\nexport function hasPermissions(userPermissions, requiredPermissions) {\n  return requiredPermissions.reduce((acc, perm) => acc && !!findPerm(userPermissions, perm), true);\n}\nexport function hasOneOfPermissions(userPermissions, givenPermissions) {\n  return givenPermissions.some(perm => !!findPerm(userPermissions, perm));\n}\nexport const requirePermissionsFunction = ({\n  callback,\n  requiredPermissions,\n  permissionCodes,\n  oneOfPermissions\n}) => {\n  if (!permissionCodes) {\n    return null;\n  }\n  if (requiredPermissions && hasPermissions(permissionCodes, requiredPermissions)) {\n    return callback();\n  }\n  if (oneOfPermissions && hasOneOfPermissions(permissionCodes, oneOfPermissions)) {\n    return callback();\n  }\n  return null;\n};\nconst RequirePermissions = ({\n  children,\n  requiredPermissions,\n  oneOfPermissions\n}) => {\n  _s();\n  const {\n    permissionCodes\n  } = useUserPermission();\n  if (!permissionCodes) {\n    return null;\n  }\n  if (requiredPermissions && hasPermissions(permissionCodes, requiredPermissions)) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false);\n  }\n  if (oneOfPermissions && hasOneOfPermissions(permissionCodes, oneOfPermissions)) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: children\n    }, void 0, false);\n  }\n  return null;\n};\n_s(RequirePermissions, \"PVEEy84XsYGb8+mkt2d5bTUNqvg=\", false, function () {\n  return [useUserPermission];\n});\n_c = RequirePermissions;\nRequirePermissions.displayName = 'RequirePermissions';\nexport default RequirePermissions;\nvar _c;\n$RefreshReg$(_c, \"RequirePermissions\");","map":{"version":3,"names":["React","useUserPermission","Fragment","_Fragment","jsxDEV","_jsxDEV","findPerm","permList","perm","find","userPerm","hasPermission","permission","userPermissions","includes","hasAnyPermissions","permissions","some","hasAllPermissions","every","hasPermissions","requiredPermissions","reduce","acc","hasOneOfPermissions","givenPermissions","requirePermissionsFunction","callback","permissionCodes","oneOfPermissions","RequirePermissions","children","_s","_c","displayName","$RefreshReg$"],"sources":["/home/joserevete/Documentos/minisplit/pagina/minisplit-master/src/routes/RequirePermissions.js"],"sourcesContent":["import React from 'react'\nimport { useUserPermission } from '../Common/Hooks/useUserPermission'\n\nconst findPerm = (permList, perm) => permList.find(userPerm => userPerm === perm)\n\nexport const hasPermission = (permission, userPermissions) => userPermissions.includes(permission)\n\nexport const hasAnyPermissions = (permissions, userPermissions) =>\n  permissions?.some(permission => hasPermission(permission, userPermissions)) || false\n\nexport const hasAllPermissions = (permissions, userPermissions) => {\n  return permissions?.every(permission => hasPermission(permission, userPermissions)) || false\n}\n\nexport function hasPermissions(userPermissions, requiredPermissions) {\n  return requiredPermissions.reduce((acc, perm) => acc && !!findPerm(userPermissions, perm), true)\n}\n\nexport function hasOneOfPermissions(userPermissions, givenPermissions) {\n  return givenPermissions.some(perm => !!findPerm(userPermissions, perm))\n}\n\nexport const requirePermissionsFunction = ({\n  callback,\n  requiredPermissions,\n  permissionCodes,\n  oneOfPermissions,\n}) => {\n  if (!permissionCodes) {\n    return null\n  }\n\n  if (requiredPermissions && hasPermissions(permissionCodes, requiredPermissions)) {\n    return callback()\n  }\n\n  if (oneOfPermissions && hasOneOfPermissions(permissionCodes, oneOfPermissions)) {\n    return callback()\n  }\n\n  return null\n}\n\nconst RequirePermissions = ({ children, requiredPermissions, oneOfPermissions }) => {\n  const { permissionCodes } = useUserPermission()\n\n  if (!permissionCodes) {\n    return null\n  }\n\n  if (requiredPermissions && hasPermissions(permissionCodes, requiredPermissions)) {\n    return <>{children}</>\n  }\n\n  if (oneOfPermissions && hasOneOfPermissions(permissionCodes, oneOfPermissions)) {\n    return <>{children}</>\n  }\n\n  return null\n}\n\nRequirePermissions.displayName = 'RequirePermissions'\nexport default RequirePermissions\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,iBAAiB,QAAQ,mCAAmC;AAAA,SAAAC,QAAA,IAAAC,SAAA,EAAAC,MAAA,IAAAC,OAAA;AAErE,MAAMC,QAAQ,GAAGA,CAACC,QAAQ,EAAEC,IAAI,KAAKD,QAAQ,CAACE,IAAI,CAACC,QAAQ,IAAIA,QAAQ,KAAKF,IAAI,CAAC;AAEjF,OAAO,MAAMG,aAAa,GAAGA,CAACC,UAAU,EAAEC,eAAe,KAAKA,eAAe,CAACC,QAAQ,CAACF,UAAU,CAAC;AAElG,OAAO,MAAMG,iBAAiB,GAAGA,CAACC,WAAW,EAAEH,eAAe,KAC5D,CAAAG,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEC,IAAI,CAACL,UAAU,IAAID,aAAa,CAACC,UAAU,EAAEC,eAAe,CAAC,CAAC,KAAI,KAAK;AAEtF,OAAO,MAAMK,iBAAiB,GAAGA,CAACF,WAAW,EAAEH,eAAe,KAAK;EACjE,OAAO,CAAAG,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEG,KAAK,CAACP,UAAU,IAAID,aAAa,CAACC,UAAU,EAAEC,eAAe,CAAC,CAAC,KAAI,KAAK;AAC9F,CAAC;AAED,OAAO,SAASO,cAAcA,CAACP,eAAe,EAAEQ,mBAAmB,EAAE;EACnE,OAAOA,mBAAmB,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEf,IAAI,KAAKe,GAAG,IAAI,CAAC,CAACjB,QAAQ,CAACO,eAAe,EAAEL,IAAI,CAAC,EAAE,IAAI,CAAC;AAClG;AAEA,OAAO,SAASgB,mBAAmBA,CAACX,eAAe,EAAEY,gBAAgB,EAAE;EACrE,OAAOA,gBAAgB,CAACR,IAAI,CAACT,IAAI,IAAI,CAAC,CAACF,QAAQ,CAACO,eAAe,EAAEL,IAAI,CAAC,CAAC;AACzE;AAEA,OAAO,MAAMkB,0BAA0B,GAAGA,CAAC;EACzCC,QAAQ;EACRN,mBAAmB;EACnBO,eAAe;EACfC;AACF,CAAC,KAAK;EACJ,IAAI,CAACD,eAAe,EAAE;IACpB,OAAO,IAAI;EACb;EAEA,IAAIP,mBAAmB,IAAID,cAAc,CAACQ,eAAe,EAAEP,mBAAmB,CAAC,EAAE;IAC/E,OAAOM,QAAQ,CAAC,CAAC;EACnB;EAEA,IAAIE,gBAAgB,IAAIL,mBAAmB,CAACI,eAAe,EAAEC,gBAAgB,CAAC,EAAE;IAC9E,OAAOF,QAAQ,CAAC,CAAC;EACnB;EAEA,OAAO,IAAI;AACb,CAAC;AAED,MAAMG,kBAAkB,GAAGA,CAAC;EAAEC,QAAQ;EAAEV,mBAAmB;EAAEQ;AAAiB,CAAC,KAAK;EAAAG,EAAA;EAClF,MAAM;IAAEJ;EAAgB,CAAC,GAAG3B,iBAAiB,CAAC,CAAC;EAE/C,IAAI,CAAC2B,eAAe,EAAE;IACpB,OAAO,IAAI;EACb;EAEA,IAAIP,mBAAmB,IAAID,cAAc,CAACQ,eAAe,EAAEP,mBAAmB,CAAC,EAAE;IAC/E,oBAAOhB,OAAA,CAAAF,SAAA;MAAA4B,QAAA,EAAGA;IAAQ,gBAAG,CAAC;EACxB;EAEA,IAAIF,gBAAgB,IAAIL,mBAAmB,CAACI,eAAe,EAAEC,gBAAgB,CAAC,EAAE;IAC9E,oBAAOxB,OAAA,CAAAF,SAAA;MAAA4B,QAAA,EAAGA;IAAQ,gBAAG,CAAC;EACxB;EAEA,OAAO,IAAI;AACb,CAAC;AAAAC,EAAA,CAhBKF,kBAAkB;EAAA,QACM7B,iBAAiB;AAAA;AAAAgC,EAAA,GADzCH,kBAAkB;AAkBxBA,kBAAkB,CAACI,WAAW,GAAG,oBAAoB;AACrD,eAAeJ,kBAAkB;AAAA,IAAAG,EAAA;AAAAE,YAAA,CAAAF,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}